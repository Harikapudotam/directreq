sap.ui.define(["sap/m/MessageToast"],function(t){"use strict";return{onInit:function(){var t=this.getView().getModel();var e=this.getModel().getBindingContext();if(e){var n=e.getProperty("status");this._updateActionButton(n)}},onAfterRendering:function(){var t=this.getView().getModel();var e=this.getView().getBindingContext();if(e){var n=e.getProperty("status");this._updateActionButton(n)}},_updateActionButton:function(t){var e=this.getOwnerComponent().getComponentData().startupParameters;if(!e||!e.inboxAPI){console.error("Inbox API not available");return}if(t==="Approved"||t==="saved"){e.inboxAPI.disableAction("APPROVE")}else{e.inboxAPI.enableAction("APPROVE")}},_onapproval:function(e){var n=this;var o=this.getBindingContext().getModel();console.log(o);const i=o.sServiceUrl+n.getBindingContext().sPath.slice(1,n.getBindingContext().sPath.length)+"/sendforapproval";console.log("the path",i);$.ajax({url:i,async:false,headers:{"X-CSRF-Token":o.getHttpHeaders()["X-CSRF-Token"]},type:"POST",dataType:"json",contentType:"application/json",success:function(e){t.show("approval send");n.getBindingContext().refresh();n.getModel().refresh()},error:function(e){t.show("Failed to add comment: "+e)},complete:function(t,e){}})}}});
//# sourceMappingURL=Sendforapproval.js.map